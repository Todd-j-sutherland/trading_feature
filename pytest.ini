[pytest]
# pytest configuration for return calculation tests
# Created based on bug fix findings from August 10, 2025

# Test discovery
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Output formatting
addopts = 
    -v 
    --tb=short
    --strict-markers
    --strict-config
    --durations=10

# Test markers
markers =
    unit: Unit tests for individual functions
    integration: Integration tests for component interactions
    regression: Tests to prevent regression of known bugs
    calculation: Tests for mathematical calculations
    database: Tests involving database operations
    performance: Performance and scalability tests
    edge_case: Edge case and boundary condition tests
    bug_prevention: Tests that prevent specific bug patterns

# Minimum Python version
minversion = 3.7

# Test collection patterns
collect_ignore = 
    setup.py
    build/
    dist/
    *.egg-info/
    .tox/
    venv/
    .venv/
    node_modules/
    .git/

# Warnings configuration  
filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning:sklearn.*
    ignore::PendingDeprecationWarning

# Test timeout (requires pytest-timeout)
timeout = 300